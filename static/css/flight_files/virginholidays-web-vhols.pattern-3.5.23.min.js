"use strict";!function($each){window.addEventListener("activate-hero",function(){if(!(window.screen.availWidth<991)){var heroes=document.getElementsByClassName("hero");$each(heroes,function(hero){window.addEventListener("scroll",function(){if(!(window.screen.availWidth<991)){var rect=hero.getBoundingClientRect(),startBefore=250,percentVisible=(rect.height+rect.top-startBefore)/rect.height;if(percentVisible=percentVisible>1?1:percentVisible,!(percentVisible<0)){hero.style.height=100+50*(1-percentVisible)+"%",hero.style.top=-(.5*hero.clientHeight*(1-percentVisible))/2+"px";var headings=hero.getElementsByClassName("hero-heading");0!==headings.length&&(headings[0].style.opacity=1-.8*(1-percentVisible))}}})})}})}(function(arr,func){return Array.prototype.forEach.call(arr,func)}),function($window,addIntersectionEvent,options,observedItems,observationCallback){var boundObs=observationCallback.bind(void 0,observedItems);$window.addEventListener(addIntersectionEvent,function($event){var detail=$event.detail,observer=void 0;if(detail&&detail.target&&detail.callback){var target=detail.target;if(detail.options?observer=new IntersectionObserver(boundObs,detail.options):void 0==observer&&(observer=new IntersectionObserver(boundObs,options)),target instanceof HTMLElement)return observer.observe(target),void observedItems.push(detail);if(target instanceof NodeList)return void[].forEach.call(target,function(t){observer.observe(t),observedItems.push({target:t,callback:detail.callback})});if("string"==typeof target)return void[].forEach.call($window.document.querySelectorAll(target),function(t){observer.observe(t),observedItems.push({target:t,callback:detail.callback})})}})}(window,"add-intersection",{threshold:.01},[],function(observedItems,$events){return $events.forEach(function($event){return observedItems.filter(function(item){return item.target===$event.target}).forEach(function(item){return item.callback({target:$event.target,isInView:$event.isIntersecting,intersectionRatio:$event.intersectionRatio})})})}),function($window,initEvent,mutationConfig,mutationCallback){var observer=new MutationObserver(mutationCallback);$window.addEventListener(initEvent,function($event){return observer.observe($window.document.body,$event.detail?$event.detail:mutationConfig)})}(window,"initialise-mutation-observation",{attributes:!0,childList:!0,subtree:!0,characterData:!0},function(mutations){var mappedMutation=mutations.map(function(mutation){return{nodesAdded:mutation.addedNodes&&mutation.addedNodes.length>0,nodesRemoved:mutation.removedNodes&&mutation.removedNodes.length>0,attributeChange:"attributes"===mutation.type,mutation:mutation}}),mutationEvent=new CustomEvent("dom-mutated",{detail:mappedMutation});window.dispatchEvent(mutationEvent)}),function($window,initVars,mutationChecker){$window.addEventListener("initialise-mutation-observer",function($event){$event.detail&&(initVars.push($event.detail),initVars&&1===initVars.length&&($window.dispatchEvent(new CustomEvent("initialise-mutation-observation")),$window.addEventListener("dom-mutated",function($event){return mutationChecker($window,$event.detail,initVars)})))})}(window,[],function($window,mutations,initVars){var matchedMutation={},hasMatchedMutations=!1;if(mutations.forEach(function(mutation){initVars.forEach(function(initVar){var nodesAdded=[],nodesRemoved=[],attributesChanged=[];if(mutation.nodesRemoved&&(nodesRemoved.concat(mutation.mutation.removedNodes),hasMatchedMutations=!0),mutation.nodesAdded&&mutation.mutation.addedNodes&&mutation.mutation.addedNodes.forEach&&mutation.mutation.addedNodes.forEach(function(element){if((element.classList&&element.classList.contains(initVar["class"])||element.hasAttribute&&element.hasAttribute(initVar.attribute)||element.id&&element.id===initVar.id)&&(nodesAdded.push(element),hasMatchedMutations=!0),element.querySelectorAll){var internalClasses=element.getElementsByClassName(initVar["class"]),internalAttrs=element.querySelectorAll("["+initVar.attribute+"]"),internalIds=element.querySelectorAll("#"+initVar.id);(internalClasses.length>0||internalAttrs.length>0||internalIds.length>0)&&(nodesAdded=nodesAdded.concat([].slice.call(internalClasses)),nodesAdded=nodesAdded.concat([].slice.call(internalAttrs)),nodesAdded=nodesAdded.concat([].slice.call(internalIds)),hasMatchedMutations=!0)}}),mutation.attributeChange&&mutation.mutation.attributeName===initVar.attribute&&(attributesChanged.push(mutation.mutation.target),hasMatchedMutations=!0),matchedMutation[initVar.name]){var thisMutation=matchedMutation[initVar.name];thisMutation.added.concat(nodesAdded),thisMutation.removed.concat(nodesRemoved),thisMutation.attributes.concat(attributesChanged)}else matchedMutation[initVar.name]={added:nodesAdded,removed:nodesRemoved,attributes:attributesChanged}})}),hasMatchedMutations){var _mutations=new CustomEvent("queried-mutations",{detail:matchedMutation});$window.dispatchEvent(_mutations)}}),function($window,openersClass,overlayClass,closeLinkClass,openClass,bodyOpen,lightboxActiveClass,lightboxInitialisation,lbMessageClass,getOpener,removeOnClick,onClick,getFirst,forEach,checkLoaded,postMessage,initialised){var overlays=$window.document.getElementsByClassName(overlayClass),currentYPosition=0,currentXPosition=0,openFunc=function(overlay,opener,lbMessage,closeLink){currentYPosition=window.pageYOffset||document.documentElement.scrollTop,currentXPosition=window.pageXOffset||document.documentElement.scrollLeft,overlay.setAttribute("aria-hidden",!1),opener.classList.add(openClass),$window.document.body.classList.add(bodyOpen);var element=document.querySelector(".popup-open");element.style.top="-"+currentYPosition+".px",closeLink.focus(),lbMessage&&postMessage(lbMessage+"-opened",$window)},closeFunc=function(overlay,opener,lbMessage){overlay.classList.remove(lightboxActiveClass),overlay.setAttribute("aria-hidden",!0),opener.classList.remove(openClass),$window.document.body.classList.remove(bodyOpen),opener.focus(),lbMessage&&postMessage(lbMessage+"-closed",$window),$window.scrollTo(currentXPosition,currentYPosition)},backgroundClose=function($event,overlay,opener,lbMessage){$event&&$event.target&&$event.target.classList.contains(overlayClass)&&closeFunc(overlay,opener,lbMessage)},init=function(){var event=new CustomEvent("initialise-mutation-observer",{detail:{name:"lightboxToggle","class":overlayClass,attribute:lbMessageClass}});$window.dispatchEvent(event),$window.addEventListener("queried-mutations",function($event){$window.dispatchEvent(new CustomEvent(lightboxInitialisation,{detail:$event.detail.lightboxToggle}))}),initialised=!0},overlaysFunc=function(overlays){initialised||init(),forEach(overlays,function(overlay){var lbMessage=overlay.getAttribute(lbMessageClass),opener=getOpener(overlay,openersClass,getFirst),closeLink=getFirst(overlay.getElementsByClassName(closeLinkClass)),bgClose=function($event){return backgroundClose($event,overlay,opener,lbMessage)},mainClose=function(){return closeFunc(overlay,opener,lbMessage)},mainOpen=function(){return openFunc(overlay,opener,lbMessage,closeLink)};removeOnClick(overlay,bgClose),onClick(overlay,bgClose),"undefined"!=typeof opener&&(removeOnClick(opener,mainOpen),onClick(opener,mainOpen)),removeOnClick(closeLink,mainClose),onClick(closeLink,mainClose),$window.addEventListener(lightboxInitialisation,function(){removeOnClick(closeLink,mainClose),removeOnClick(opener,mainOpen),removeOnClick(overlay,bgClose)})})};checkLoaded(overlays,overlaysFunc,$window,100),$window.addEventListener(lightboxInitialisation,function($event){overlays=$event.detail&&$event.detail.added&&$event.detail.added.length>0?$event.detail.added:$window.document.getElementsByClassName(overlayClass),overlaysFunc(overlays)}),$window.addEventListener("message",function(message){"repaint"===message.data&&overlaysFunc(overlays)}),$window.addEventListener("close-lightbox",function(){return forEach(overlays,function(overlay){closeFunc(overlay,getOpener(overlay,openersClass,getFirst))})})}(window,"lightb-opener","lightb-overlay","close-link","open","popup-open","lightb-active","initialise-lightbox-toggle","lb-message",function($element,sibilingClass,getFirst){var sibling=$element.previousSiblingElement;return sibling&&sibling.classList.contains(sibilingClass)?sibling:getFirst($element.parentElement.getElementsByClassName(sibilingClass))},function($element,func){return $element.removeEventListener("click",func)},function($element,func){return $element.addEventListener("click",func)},function(arr){return arr[0]},function(arr,func){return Array.prototype.forEach.call(arr,func)},function($elements,$function,$win,iterationMax){void 0!==$elements&&!function checkIfLoaded($elements,$function,$win,iterationMax,iterationCount){iterationCount<iterationMax?$elements.length>0?$function($elements):$win.requestAnimationFrame(function(){return checkIfLoaded($elements,$function,$win,iterationMax,iterationCount+1)}):console.debug("Why is the lightbox toggle being run when there are no lightboxes?")}($elements,$function,$win,iterationMax,0)},function(message,$window){$window.postMessage(message,$window.location.protocol+"//"+$window.location.host)},!1),function($window,$map,$each,moveCarousel,getCarousels,initialiseCarousel){return $each(["initialise-card-carousel","resize"],function($event){return $window.addEventListener($event,function(){return initialiseCarousel(getCarousels($map,window,document),$each,moveCarousel)})})}(window,function(arr,func){return Array.prototype.map.call(arr,func)},function(arr,func){return Array.prototype.forEach.call(arr,func)},function(carousel,amount,$each,indicatorElems){$each(indicatorElems,function(elem){return elem.classList.remove("selected")}),indicatorElems[carousel.shifts].classList.add("selected"),window.postMessage({name:"CARD_CAROUSEL_SHIFTED",carousel:{carousel:carousel.carousel.classList.toString(),shifts:carousel.shifts}},"*"),carousel.slider.style.transform="translateX(-"+(amount>carousel.endShift?carousel.endShift:amount)+"px)"},function($map,$window,$document){if(void 0!==$document)return $map($document.querySelectorAll("[card-carousel]"),function(carousel){var slider=carousel.querySelector("[carousel-slider]"),cards=slider.children,card=cards[0],cardMargin=parseInt($window.getComputedStyle(card).marginRight.replace("px",""),10),cardSize=card.getBoundingClientRect().width+cardMargin;return{carousel:carousel,slider:slider,previousFAB:carousel.querySelector("[nav-button=prev]"),nextFAB:carousel.querySelector("[nav-button=next]"),indicators:carousel.querySelector("[indicators]"),cardWidth:card.getBoundingClientRect().width+cardMargin,numOfCards:cards.length,shifts:0,maxShifts:Math.ceil((slider.clientWidth-cards.length*cardSize)*-1/cardSize),endShift:cards.length*cardSize-slider.clientWidth-cardMargin}})},function(carousels,$each,moveCarousel){void 0!==carousels&&carousels.length>0&&$each(carousels,function($carousel){var indicatorElems=[],cardContainerWidth=$carousel.cardWidth*$carousel.numOfCards;if(cardContainerWidth<=$carousel.slider.clientWidth)$carousel.carousel.classList.add("no-carousel-mode");else{for(var standardCarouselMove=function(){return moveCarousel($carousel,$carousel.cardWidth*$carousel.shifts,$each,indicatorElems)},i=0;i<=$carousel.maxShifts;i++){var indicator=document.createElement("div");indicator.classList.add("indicator"),indicatorElems.push(indicator)}void 0!=indicatorElems&&indicatorElems.length>0&&(indicatorElems[0].classList.add("selected"),void 0!=$carousel.indicators&&($carousel.indicators.innerHTML="",$each(indicatorElems,function(indicatorElem,index){$carousel.indicators.appendChild(indicatorElem),indicatorElem.addEventListener("click",function(){$carousel.shifts=index,standardCarouselMove()})}))),standardCarouselMove();var shiftNext=function(){$carousel.shifts>=$carousel.maxShifts?$carousel.shifts=0:$carousel.shifts+=1,standardCarouselMove()},shiftPrevious=function(){$carousel.shifts<=0?$carousel.shifts=$carousel.maxShifts:$carousel.shifts-=1,standardCarouselMove()},startPoint=void 0;$each(["touchstart","mousedown"],function(event){return $carousel.carousel.addEventListener(event,function($event){return startPoint=void 0!==$event.touches?$event.touches[0].pageX:$event.pageX})}),$each(["touchend","mouseup"],function(event){$carousel.carousel.addEventListener(event,function($event){var pageX=void 0!==$event.changedTouches?$event.changedTouches[0].pageX:$event.pageX,difference=startPoint-pageX;difference>30&&($carousel.shifts>=$carousel.maxShifts?$carousel.shifts=0:$carousel.shifts+=1),difference<-30&&($carousel.shifts<=0?$carousel.shifts=$carousel.maxShifts:$carousel.shifts-=1),standardCarouselMove()})});var interval=void 0;$carousel.nextFAB.addEventListener("mousedown",function(){shiftNext(),interval=setInterval(shiftNext,700)}),window.addEventListener("mouseup",function(){return clearInterval(interval)}),$carousel.previousFAB.addEventListener("mousedown",function(){shiftPrevious(),interval=setInterval(shiftPrevious,700)}),window.addEventListener("mouseup",function(){return clearInterval(interval)}),$carousel.nextFAB.addEventListener("mouseover",function(){return moveCarousel($carousel,$carousel.cardWidth*$carousel.shifts+30,$each,indicatorElems)}),$carousel.nextFAB.addEventListener("mouseout",function(){return standardCarouselMove()}),$carousel.previousFAB.addEventListener("mouseover",function(){return moveCarousel($carousel,$carousel.cardWidth*$carousel.shifts-30,$each,indicatorElems)}),$carousel.previousFAB.addEventListener("mouseout",function(){return standardCarouselMove()})}})}),function(slideContents,$win,checkSlideHeight,checkIfLoaded,debounce){$win.addEventListener("resize",debounce(function(){return checkSlideHeight(slideContents)},$win)),document.addEventListener("DOMContentLoaded",function(event){return checkIfLoaded(slideContents,checkSlideHeight,null,$win,!0,100)}),$win.addEventListener("message",function(event){"repaint"===event.data&&checkIfLoaded(slideContents,checkSlideHeight,null,$win,!0,100)})}(document.getElementsByClassName("content-slider"),window,function(slideContents){[].forEach.call(slideContents,function(slideContent){var slideHeight=slideContent.getBoundingClientRect().height,offset=parseInt(slideContent.getAttribute("offset"));offset&&offset>0?(slideHeight=slideHeight>offset/2?Math.abs(Math.ceil((slideHeight-offset)/2)):Math.abs(Math.ceil(offset/2-slideHeight)),slideContent.style.marginBottom="-"+slideHeight+"px"):slideContent.style.marginTop="-"+slideHeight+"px"})},function($elements,$contFunction,previousHeight,$win,flagSwitch,iterationMax){if(void 0!==$elements){var checkIfLoaded=function checkIfLoaded($elements,$function,previousHeight,$win,flagSwitch){if(flagSwitch){var elemHeight=$elements[0].getBoundingClientRect().height;elemHeight===previousHeight?$function($elements):window.requestAnimationFrame(function(){return checkIfLoaded($elements,$function,elemHeight,$win,!flagSwitch)})}else window.requestAnimationFrame(function(){return checkIfLoaded($elements,$function,previousHeight,$win,!flagSwitch)})};!function checkIfLoadedStarted($elements,$function,$win,iterationMax,iterationCount){iterationCount<iterationMax?$elements.length>0?$function($elements,$contFunction,previousHeight,$win,flagSwitch):$win.requestAnimationFrame(function(){return checkIfLoadedStarted($elements,$function,$win,iterationMax,iterationCount+1)}):console.debug("Why is the slide down JS being run when there are no slide downs?")}($elements,checkIfLoaded,$win,iterationMax,0)}},function(func,$win){var timeout=void 0;return function(){timeout&&$win.cancelAnimationFrame(timeout),timeout=$win.requestAnimationFrame(function(){func.apply(void 0),timeout=null})}}),function($window,initEvent,init,sendEvent){$window.addEventListener(initEvent,function(){return init($window,sendEvent)})}(window,"initialise-fixed-tabs",function($window,sendEvent){var tabItems=$window.document.querySelectorAll(".fixed-tabs-list-item"),tabList=$window.document.querySelector(".fixed-tabs-list"),parent=$window.document.querySelector(".fixed-tabs, [fixed-tabs]"),goneClass="tab-gone",hiddenClass="tab-hidden",intersectingClass="tabs-intersecting";sendEvent("add-intersection",{detail:{target:tabItems,callback:function(entry){var id=entry.target.getAttribute("data-tab-index"),menu=parent.querySelector(".fixed-tabs-sub-menu"),subItem=menu.querySelector("[data-tab-index='"+id+"']"),el=entry.target;tabItems.forEach(function(element){return element.classList.remove("tab-last")}),entry.intersectionRatio>=1?(el.classList.remove(hiddenClass),subItem.closest("li").classList.add(goneClass)):(el.classList.add(hiddenClass),subItem.closest("li").classList.remove(goneClass));var nonHiddenTabs=tabList.querySelectorAll(".fixed-tabs-list-item:not(.tab-hidden)"),hiddenTabs=tabList.querySelectorAll(".fixed-tabs-list-item.tab-hidden");hiddenTabs.length>=1&&nonHiddenTabs[nonHiddenTabs.length-1].classList.add("tab-last");var showMore=parent.querySelectorAll("."+goneClass);showMore.length!=tabItems.length?parent.classList.add(intersectingClass):parent.classList.remove(intersectingClass)},options:{root:parent,rootMargin:"0px",threshold:1}}})},function(eventName,eventValue){var event=void 0;"function"==typeof Event?event=new CustomEvent(eventName,eventValue):(event=window.document.createEvent("CustomEvent"),event.initCustomEvent(eventName,!0,!0,eventValue)),window.dispatchEvent(event)}),!function(root,factory){"function"==typeof define&&define.amd?define([],function(){return root.svg4everybody=factory()}):"object"==typeof module&&module.exports?module.exports=factory():root.svg4everybody=factory()}(this,function(){function embed(parent,svg,target){if(target){var fragment=document.createDocumentFragment(),viewBox=!svg.hasAttribute("viewBox")&&target.getAttribute("viewBox");viewBox&&svg.setAttribute("viewBox",viewBox);for(var clone=target.cloneNode(!0);clone.childNodes.length;)fragment.appendChild(clone.firstChild);parent.appendChild(fragment)}}function loadreadystatechange(xhr){xhr.onreadystatechange=function(){if(4===xhr.readyState){var cachedDocument=xhr._cachedDocument;cachedDocument||(cachedDocument=xhr._cachedDocument=document.implementation.createHTMLDocument(""),cachedDocument.body.innerHTML=xhr.responseText,xhr._cachedTarget={}),xhr._embeds.splice(0).map(function(item){var target=xhr._cachedTarget[item.id];target||(target=xhr._cachedTarget[item.id]=cachedDocument.getElementById(item.id)),embed(item.parent,item.svg,target)})}},xhr.onreadystatechange()}function svg4everybody(rawopts){function oninterval(){for(var index=0;index<uses.length;){var use=uses[index],parent=use.parentNode,svg=getSVGAncestor(parent),src=use.getAttribute("xlink:href")||use.getAttribute("href");if(!src&&opts.attributeName&&(src=use.getAttribute(opts.attributeName)),svg&&src){if(polyfill)if(!opts.validate||opts.validate(src,svg,use)){parent.removeChild(use);var srcSplit=src.split("#"),url=srcSplit.shift(),id=srcSplit.join("#");if(url.length){var xhr=requests[url];xhr||(xhr=requests[url]=new XMLHttpRequest,xhr.open("GET",url),xhr.send(),xhr._embeds=[]),xhr._embeds.push({parent:parent,svg:svg,id:id}),loadreadystatechange(xhr)}else embed(parent,svg,document.getElementById(id))}else++index,++numberOfSvgUseElementsToBypass}else++index}(!uses.length||uses.length-numberOfSvgUseElementsToBypass>0)&&requestAnimationFrame(oninterval,67)}var polyfill,opts=Object(rawopts),newerIEUA=/\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/,webkitUA=/\bAppleWebKit\/(\d+)\b/,olderEdgeUA=/\bEdge\/12\.(\d+)\b/,edgeUA=/\bEdge\/.(\d+)\b/,inIframe=window.top!==window.self;polyfill="polyfill"in opts?opts.polyfill:newerIEUA.test(navigator.userAgent)||(navigator.userAgent.match(olderEdgeUA)||[])[1]<10547||(navigator.userAgent.match(webkitUA)||[])[1]<537||edgeUA.test(navigator.userAgent)&&inIframe;var requests={},requestAnimationFrame=window.requestAnimationFrame||setTimeout,uses=document.getElementsByTagName("use"),numberOfSvgUseElementsToBypass=0;polyfill&&oninterval()}function getSVGAncestor(node){for(var svg=node;"svg"!==svg.nodeName.toLowerCase()&&(svg=svg.parentNode););return svg}return svg4everybody}),function(window,document){function IntersectionObserverEntry(entry){this.time=entry.time,this.target=entry.target,this.rootBounds=entry.rootBounds,this.boundingClientRect=entry.boundingClientRect,this.intersectionRect=entry.intersectionRect||getEmptyRect(),this.isIntersecting=!!entry.intersectionRect;var targetRect=this.boundingClientRect,targetArea=targetRect.width*targetRect.height,intersectionRect=this.intersectionRect,intersectionArea=intersectionRect.width*intersectionRect.height;targetArea?this.intersectionRatio=Number((intersectionArea/targetArea).toFixed(4)):this.intersectionRatio=this.isIntersecting?1:0}function IntersectionObserver(callback,opt_options){var options=opt_options||{};if("function"!=typeof callback)throw new Error("callback must be a function");if(options.root&&1!=options.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=throttle(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=callback,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(options.rootMargin),this.thresholds=this._initThresholds(options.threshold),this.root=options.root||null,this.rootMargin=this._rootMarginValues.map(function(margin){return margin.value+margin.unit}).join(" ")}function now(){return window.performance&&performance.now&&performance.now()}function throttle(fn,timeout){var timer=null;return function(){timer||(timer=setTimeout(function(){fn(),timer=null},timeout))}}function addEvent(node,event,fn,opt_useCapture){"function"==typeof node.addEventListener?node.addEventListener(event,fn,opt_useCapture||!1):"function"==typeof node.attachEvent&&node.attachEvent("on"+event,fn)}function removeEvent(node,event,fn,opt_useCapture){"function"==typeof node.removeEventListener?node.removeEventListener(event,fn,opt_useCapture||!1):"function"==typeof node.detatchEvent&&node.detatchEvent("on"+event,fn)}function computeRectIntersection(rect1,rect2){var top=Math.max(rect1.top,rect2.top),bottom=Math.min(rect1.bottom,rect2.bottom),left=Math.max(rect1.left,rect2.left),right=Math.min(rect1.right,rect2.right),width=right-left,height=bottom-top;return width>=0&&height>=0&&{top:top,bottom:bottom,left:left,right:right,width:width,height:height}}function getBoundingClientRect(el){var rect;try{rect=el.getBoundingClientRect()}catch(err){}return rect?(rect.width&&rect.height||(rect={top:rect.top,right:rect.right,bottom:rect.bottom,left:rect.left,width:rect.right-rect.left,height:rect.bottom-rect.top}),rect):getEmptyRect()}function getEmptyRect(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function containsDeep(parent,child){for(var node=child;node;){if(node==parent)return!0;node=getParentNode(node)}return!1}function getParentNode(node){var parent=node.parentNode;return parent&&11==parent.nodeType&&parent.host?parent.host:parent}if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)return void("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}}));var registry=[];IntersectionObserver.prototype.THROTTLE_TIMEOUT=100,IntersectionObserver.prototype.POLL_INTERVAL=null,IntersectionObserver.prototype.USE_MUTATION_OBSERVER=!0,IntersectionObserver.prototype.observe=function(target){var isTargetAlreadyObserved=this._observationTargets.some(function(item){return item.element==target});if(!isTargetAlreadyObserved){if(!target||1!=target.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:target,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},IntersectionObserver.prototype.unobserve=function(target){this._observationTargets=this._observationTargets.filter(function(item){return item.element!=target}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},IntersectionObserver.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},IntersectionObserver.prototype.takeRecords=function(){var records=this._queuedEntries.slice();return this._queuedEntries=[],records},IntersectionObserver.prototype._initThresholds=function(opt_threshold){var threshold=opt_threshold||[0];return Array.isArray(threshold)||(threshold=[threshold]),threshold.sort().filter(function(t,i,a){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==a[i-1]})},IntersectionObserver.prototype._parseRootMargin=function(opt_rootMargin){var marginString=opt_rootMargin||"0px",margins=marginString.split(/\s+/).map(function(margin){var parts=/^(-?\d*\.?\d+)(px|%)$/.exec(margin);if(!parts)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(parts[1]),unit:parts[2]}});return margins[1]=margins[1]||margins[0],margins[2]=margins[2]||margins[0],margins[3]=margins[3]||margins[1],margins},IntersectionObserver.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(addEvent(window,"resize",this._checkForIntersections,!0),addEvent(document,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},IntersectionObserver.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,removeEvent(window,"resize",this._checkForIntersections,!0),removeEvent(document,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},IntersectionObserver.prototype._checkForIntersections=function(){var rootIsInDom=this._rootIsInDom(),rootRect=rootIsInDom?this._getRootRect():getEmptyRect();this._observationTargets.forEach(function(item){var target=item.element,targetRect=getBoundingClientRect(target),rootContainsTarget=this._rootContainsTarget(target),oldEntry=item.entry,intersectionRect=rootIsInDom&&rootContainsTarget&&this._computeTargetAndRootIntersection(target,rootRect),newEntry=item.entry=new IntersectionObserverEntry({time:now(),target:target,boundingClientRect:targetRect,rootBounds:rootRect,intersectionRect:intersectionRect});oldEntry?rootIsInDom&&rootContainsTarget?this._hasCrossedThreshold(oldEntry,newEntry)&&this._queuedEntries.push(newEntry):oldEntry&&oldEntry.isIntersecting&&this._queuedEntries.push(newEntry):this._queuedEntries.push(newEntry)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},IntersectionObserver.prototype._computeTargetAndRootIntersection=function(target,rootRect){if("none"!=window.getComputedStyle(target).display){for(var targetRect=getBoundingClientRect(target),intersectionRect=targetRect,parent=getParentNode(target),atRoot=!1;!atRoot;){var parentRect=null,parentComputedStyle=1==parent.nodeType?window.getComputedStyle(parent):{};if("none"==parentComputedStyle.display)return;if(parent==this.root||parent==document?(atRoot=!0,parentRect=rootRect):parent!=document.body&&parent!=document.documentElement&&"visible"!=parentComputedStyle.overflow&&(parentRect=getBoundingClientRect(parent)),parentRect&&(intersectionRect=computeRectIntersection(parentRect,intersectionRect),!intersectionRect))break;parent=getParentNode(parent)}return intersectionRect}},IntersectionObserver.prototype._getRootRect=function(){var rootRect;if(this.root)rootRect=getBoundingClientRect(this.root);else{var html=document.documentElement,body=document.body;rootRect={top:0,left:0,right:html.clientWidth||body.clientWidth,width:html.clientWidth||body.clientWidth,bottom:html.clientHeight||body.clientHeight,height:html.clientHeight||body.clientHeight}}return this._expandRectByRootMargin(rootRect)},IntersectionObserver.prototype._expandRectByRootMargin=function(rect){var margins=this._rootMarginValues.map(function(margin,i){return"px"==margin.unit?margin.value:margin.value*(i%2?rect.width:rect.height)/100}),newRect={top:rect.top-margins[0],right:rect.right+margins[1],bottom:rect.bottom+margins[2],left:rect.left-margins[3]};return newRect.width=newRect.right-newRect.left,newRect.height=newRect.bottom-newRect.top,newRect},IntersectionObserver.prototype._hasCrossedThreshold=function(oldEntry,newEntry){var oldRatio=oldEntry&&oldEntry.isIntersecting?oldEntry.intersectionRatio||0:-1,newRatio=newEntry.isIntersecting?newEntry.intersectionRatio||0:-1;if(oldRatio!==newRatio)for(var i=0;i<this.thresholds.length;i++){var threshold=this.thresholds[i];if(threshold==oldRatio||threshold==newRatio||threshold<oldRatio!=threshold<newRatio)return!0}},IntersectionObserver.prototype._rootIsInDom=function(){return!this.root||containsDeep(document,this.root)},IntersectionObserver.prototype._rootContainsTarget=function(target){return containsDeep(this.root||document,target)},IntersectionObserver.prototype._registerInstance=function(){registry.indexOf(this)<0&&registry.push(this)},IntersectionObserver.prototype._unregisterInstance=function(){var index=registry.indexOf(this);index!=-1&&registry.splice(index,1)},window.IntersectionObserver=IntersectionObserver,window.IntersectionObserverEntry=IntersectionObserverEntry}(window,document);
//# sourceMappingURL=maps/virginholidays-web-vhols.pattern-3.5.23.min.js.map
